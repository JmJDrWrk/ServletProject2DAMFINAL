!function(i){function s(){return-1<(navigator.userLanguage||navigator.language).indexOf("pt")?"pt-pt":"es-es"}function r(a,e){var t={method:"delete",dataType:"json",url:e};void 0!==a&&(a[0]&&-1<a[0].className.indexOf("GTM-removeFromCart")||(e=a.find(".GTM-removeFromCart")[0]||null)&&e.dataset.price),document.querySelector(".pccom-basket__loading").style.display="block",i(".btn-finish-cart").addClass("disabled"),i.ajax(t).done(function(e){var t;d(),(t={method:"get",url:Routing.generate("pcc_cart_detail")+"rawcart",dataType:"json"},i.ajax(t).then(function(e){return e})).then(function(e){a.hide(),a.next("hr").remove(),document.querySelector(".pccom-basket__summary_total-amount").innerHTML=e.totalPrice+" €",document.querySelector(".pccom-basket__totalqty-amount").innerHTML=e.totalQty,document.querySelector(".js-units").innerHTML=e.totalQty})}).fail(function(e){!e.responseText||"error"===(e=i.parseJSON(e.responseText)).status&&setErrorMessage(e.message),d()})}function d(){document.querySelector(".pccom-basket__loading").style.display="none",i(".btn-finish-cart").removeClass("disabled")}i(document).on("click",".del-item-sidenav-cross",function(){var e,t,a,n,o=i(this).parents(".shopping-item");o.hasClass("deleted")||(t={deleteUrl:(e=o).data("deletehref"),id:e.data("article"),isOem:e.data("isOem"),ref:e.data("ref")},a=31046===t.id,n=31045===t.id,o=function(){var t=[];return i(".del-item-sidenav").each(function(){var e={id:i(this).data("id"),deleteUrl:i(this).data("deletehref"),isOem:1==i(this).data("isoem"),ref:i(this).data("ref")};t.push(e)}),t}().filter(function(e){return e.isOem}),a&&0<o.length?new PCC.Modal({content:"es-es"===s()?"Si eliminas el montaje y testeo de componentes internos del PC, los productos OEM se eliminarán de la configuración.":"Se eliminares a montagem e teste dos componentes internos do PC, os produtos OEM serão eliminados da configuração.",background_close:!1,buttons:[{label:"Cancelar",primary:!1,event:function(){this.hide(),d()}},{label:"es-es"===s()?"Eliminar":"Remover",primary:!0,event:function(){r(e,t.deleteUrl),e.addClass("deleted"),this.hide()}}]}).show():n&&0<o.length?new PCC.Modal({content:"es-es"===s()?'Si eliminas "Instalación y configuración de S.O.", el sistema operativo se eliminará de la configuración.':'"Instalação e configuração do S.O.", o sistema operativo será eliminado da configuração',background_close:!1,buttons:[{label:"Cancelar",primary:!1,event:function(){this.hide(),d()}},{label:"es-es"===s()?"Eliminar":"Remover",primary:!0,event:function(){r(e,t.deleteUrl),e.addClass("deleted"),this.hide()}}]}).show():(r(e,t.deleteUrl),e.addClass("deleted")))})}(jQuery);